<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Royal Alchemy</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Playfair+Display:ital,wght@0,400;1,700&display=swap');

        :root {
            --burgundy: #630d16;
            --gold: #d4af37;
            --cream: #fffaf0;
        }

        body {
            margin: 0;
            font-family: 'Playfair Display', serif;
            background: var(--burgundy);
            background-image: radial-gradient(circle, #80131d 0%, #4d0a11 100%);
            color: var(--cream);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
            overflow: hidden;
        }

        .frame {
            border: 3px double var(--gold);
            padding: 40px 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            max-width: 85%;
            position: relative;
        }

        h1 { font-family: 'Cinzel', serif; color: var(--gold); font-size: 1.5rem; letter-spacing: 2px; margin-bottom: 5px; }
        .heart-icon { font-size: 50px; color: var(--gold); margin-bottom: 10px; animation: pulse 2s infinite; }
        
        @keyframes pulse {
            0% { transform: scale(1); text-shadow: 0 0 0px var(--gold); }
            50% { transform: scale(1.1); text-shadow: 0 0 20px var(--gold); }
            100% { transform: scale(1); }
        }

        .essence-label { font-style: italic; font-size: 1.1rem; opacity: 0.9; }
        .val { font-size: 4rem; font-weight: bold; color: var(--gold); margin: 5px 0; font-family: 'Cinzel', serif; }
        
        .instruction { font-size: 0.9rem; margin: 15px 0; line-height: 1.4; border-top: 1px solid var(--gold); border-bottom: 1px solid var(--gold); padding: 10px 0; }

        input { 
            background: transparent; border: 1px solid var(--gold); color: var(--cream);
            padding: 10px; border-radius: 5px; width: 80px; text-align: center; font-size: 1.2rem;
            margin: 5px;
        }

        button {
            background: var(--gold); color: var(--burgundy); border: none; padding: 12px 25px;
            font-weight: bold; border-radius: 5px; cursor: pointer; font-family: 'Cinzel', serif;
            margin-top: 15px; transition: 0.3s;
        }

        button:hover { transform: scale(1.05); background: #f1c40f; }

        #success-msg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--burgundy); border: 10px inset var(--gold);
            display: none; flex-direction: column; align-items: center; justify-content: center;
            z-index: 100; box-sizing: border-box;
        }
    </style>
</head>
<body>

    <div id="game" class="frame">
        <h1>Royal Alchemy</h1>
        <div class="heart-icon">❦</div>
        <div class="essence-label">Your Noble Essence</div>
        <div class="val" id="my-num">--</div>
        
        <div class="instruction">
            Find the soul whose essence <br> combined with yours equals <br> 
            <strong id="target-num" style="color:var(--gold); font-size: 1.4rem;">100</strong>
        </div>

        <div>
            <input type="number" id="partner-val" placeholder="Their #">
            <input type="password" id="host-key" placeholder="Passcode" style="width: 100px;">
            <br>
            <button onclick="attemptBond()">Commence Bonding</button>
        </div>
        <p style="font-size: 0.7rem; opacity: 0.5; margin-top: 15px;">Refresh to reset your destiny</p>
    </div>

    <div id="success-msg">
        <h1 style="font-size: 2.5rem;">❦ A Perfect Match ❦</h1>
        <p style="font-size: 1.2rem; font-style: italic;">The stars have aligned for</p>
        <h2 id="team-name" style="color: var(--gold); font-family: 'Cinzel', serif; font-size: 2rem;">The Duke & Duchess</h2>
        <p>Present this seal to the Master of Ceremonies.</p>
        <button onclick="location.reload()" style="background: var(--cream);">New Destiny</button>
    </div>

    <script>
        // --- CONFIGURATION ---
        const SECRET_PASSCODE = "123"; // Give this to people ONLY when they find their match!
        const targets = [100, 110];
        const teamNames = ["The Golden Roses", "The Burgundy Barons", "The Silk Souls", "The Velvet Hearts", "The Grand Royals"];

        // Generate local state
        const myValue = Math.floor(Math.random() * 60) + 20;
        const myTarget = targets[Math.floor(Math.random() * targets.length)];

        document.getElementById('my-num').innerText = myValue;
        document.getElementById('target-num').innerText = myTarget;

        function attemptBond() {
            const partnerVal = parseInt(document.getElementById('partner-val').value);
            const userPass = document.getElementById('host-key').value;
            const sum = myValue + partnerVal;

            if (sum === myTarget) {
                if (userPass === SECRET_PASSCODE) {
                    const randomTeam = teamNames[Math.floor(Math.random() * teamNames.length)];
                    document.getElementById('team-name').innerText = randomTeam;
                    document.getElementById('success-msg').style.display = 'flex';
                    if (navigator.vibrate) navigator.vibrate([200, 100, 200]);
                } else {
                    alert("The math is divine! Now, seek the Master of Ceremonies for the 'Royal Passcode' to seal your bond.");
                }
            } else {
                alert("Alas, your essences do not align. Seek another.");
            }
        }
    </script>
</body>
</html>
